(function(){try{"use strict";var t=window.$MicrosoftMaps8,i=t.Internal,s=i.TaskData=i.TaskData||{},n=t.Directions=t.Directions||{},kt=t.Search.Address,ot=t.GlobalConfig.features.autosuggest,dt=i.ControlTemplate,w=t.GlobalConfig.features.directions,gt=n.DirectionsInputData,h=s.DirectionsMode,ni=n.DirectionsPanelViewModel,ti=n.DirectionsPolyline,ii=n.DirectionsPushpin,ri=n.DirectionsResultsPanelTemplate,ui=n.DirectionsResultsSetViewModel,fi=n.DirectionsTask,st=n.DirectionsTemplateSelector,ht=s.DistanceUnit,ei=t.Search.GeocodeLocation,ct=t.Search.GeocodeRequestOptions,oi=t.Search.GeocodeResult,l=i._Gimme,si=t.GlobalConfig,f=i._Helper,a=i._JSEvent,lt=t.Layer,hi=t.LocationRect,ci=i.MapHelper,r=t.Location,li=t.Module,ai=i._Network,vi=i._ObservableObject,v=s.Optimize,yi=t.Search.PlaceResult,b=t.Pushpin,e=i.PushpinIconType,pi=t.Search.ReverseGeocodeRequestOptions,u=n.RouteAvoidance,k=t.Polyline,at=i.SDKPrimitiveTemplateSelector,vt=t.Search.SearchManager,yt=s.TimeTypes,d=s.Waypoint,wi=n.WaypointViewModel,y=function(){function n(n){this._waypointOptions=n}return n.prototype.getWaypoint=function(){var n=this._waypointOptions,t=new d(n.address,n.location);return t.isViaWaypoint=n.isViaPoint,t},n.prototype.dispose=function(){this._waypointOptions={};for(var n=0;n<this.disposables.length;n++)this.disposables[n].dispose()},n.prototype.getAddress=function(){return this._waypointOptions.address},n.prototype.getLocation=function(){return this._waypointOptions.location},n.prototype.getPushpin=function(){return this._waypointOptions.pushpin},n.prototype.isViapoint=function(){return this._waypointOptions.isViaPoint},n.prototype.setOptions=function(n){for(var t in n)this._waypointOptions[t]!==n[t]&&(this._waypointOptions[t]=n[t])},n.createSDKWaypoint=function(t){return new n({address:t.address,location:t.point,isViaPoint:t.isViaWaypoint})},n}(),pt=function(){function n(){}return n}(),c=function(){function n(){}return n}(),bi=function(){function n(){}return n}(),ki=function(){function n(){}return n}(),o;(function(n){n[n.shortestTime=0]="shortestTime";n[n.shortestDistance=1]="shortestDistance";n[n.timeWithTraffic=2]="timeWithTraffic";n[n.timeAvoidClosure=3]="timeAvoidClosure";n[n.minimizeMoney=4]="minimizeMoney";n[n.minimizeTransfers=5]="minimizeTransfers";n[n.minimizeWalking=6]="minimizeWalking"})(o||(o={}));var g=function(){function n(n,t){var e,o,s,u,i,f;if(this.routeLegs=[],this.routePath=[],n){if(n.routeLegs&&n.routeLegs.length>0&&t!==undefined)for(i=0,e=n.routeLegs.length;i<e;i++)o=n.routeLegs[i],s=new nt(o,i),this.routeLegs.push(s);if(n.routePath&&n.routePath.line&&n.routePath.line.coordinates&&n.routePath.line.coordinates.length)for(u=n.routePath.line.coordinates,i=0;i<u.length;i++)f=u[i],this.routePath.push(new r(f[0],f[1]))}}return n}(),nt=function(){function n(n,t){var e,o,u,s,c,l,a,h,i,v,y,w;if(n&&t!==undefined){if(this.originalRouteIndex=t,this.startTime=n.startTime&&new Date(f._getTime(n.startTime)),this.endTime=n.endTime&&new Date(f._getTime(n.endTime)),e=n.actualEnd.coordinates,this.endWaypointLocation=new r(e[0],e[1]),o=n.actualStart.coordinates,this.startWaypointLocation=new r(o[0],o[1]),u=new p,u.distance=n.travelDistance,u.time=n.travelDuration,this.summary=u,n.itineraryItems){for(s=[],i=0,c=n.itineraryItems.length;i<c;i++)l=n.itineraryItems[i],a=new tt(l),s.push(a);this.itineraryItems=s}if(n.routeSubLegs&&n.routeSubLegs.length){for(h=[],i=0,v=n.routeSubLegs.length;i<v;i++)y=n.routeSubLegs[i],w=new it(y),h.push(w);this.subLegs=h}}}return n}(),p=function(){function n(n){n&&(this.distance=n.travelDistance,this.northEast=new r(n.bbox[0],n.bbox[1]),this.southWest=new r(n.bbox[2],n.bbox[3]),this.time=n.travelDuration,this.timeWithTraffic=n.travelDurationTraffic)}return n}(),tt=function(){function n(t){var u,f,i,e,o,s;if(t&&(t.maneuverPoint&&t.maneuverPoint.coordinates&&t.maneuverPoint.coordinates.length===2&&(u=t.maneuverPoint.coordinates,this.coordinate=new r(u[0],u[1])),this.distance=t.travelDistance.toString(),this.durationInSeconds=t.travelDuration,this.formattedText=t.instruction.formattedText,this.iconType=t.iconType,this.maneuver=t.instruction.maneuverType,this.preIntersectionHints=[t.instruction.text],this.transitLine=t.transitLine,t.transitStops&&t.transitStops.length&&(this.startStopName=t.transitStops[0].stopName,this.transitStopId=t.transitStops[0].stopId.toString()),this.transitTerminus=t.transitTerminus,this.warnings=t.warnings,t.childItineraryItems&&t.childItineraryItems.length)){for(f=[],i=0,e=t.childItineraryItems.length;i<e;i++)o=t.childItineraryItems[i],s=new n(o),f.push(s);this.childItineraryItems=f}}return n}(),it=function(){function n(n){var t,i;n&&(n.endWaypoint&&n.endWaypoint.coordinates&&n.endWaypoint.coordinates.length===2&&(t=n.endWaypoint&&n.endWaypoint.coordinates,this.actualEnd=new r(t[0],t[1])),this.endDescription=n.endWaypoint&&n.endWaypoint.description,n.startWaypoint&&n.startWaypoint.coordinates&&n.startWaypoint.coordinates.length===2&&(i=n.startWaypoint&&n.startWaypoint.coordinates,this.actualStart=new r(i[0],i[1])),this.startDescription=n.startWaypoint&&n.startWaypoint.description)}return n}(),rt=function(){function n(n){this._map=n;this._disposables=[];this._disposables.push(this._directionsTemplateSelector=new st(n),this._sdkPrimitiveTemplateSelector=new at(n))}return n.prototype.selectorReady=function(){var n=this;return this._directionsTemplateSelector.selectorReady().then(function(){return n._sdkPrimitiveTemplateSelector.selectorReady()})},n.prototype.getTemplates=function(n,t){return n instanceof b||n instanceof k?this._sdkPrimitiveTemplateSelector.getTemplates(n):this._directionsTemplateSelector.getTemplates(n,t)},n.prototype.dispose=function(){this._map=null;f._clearDisposables(this._disposables)},n}(),ut=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),ft=function(n){function t(i,r,u,f,o,s,h,c,l,a,v,y,p){var b=this,w={},k;if(!r)switch(u){case e.start:r=t._defaultStartWaypointOptions;break;case e.end:r=t._defaultEndWaypointOptions;break;case e.middle:r=t._defaultMiddleWaypointOptions;break;case e.via:r=t._defaultViapointOptions;break;default:r={visible:!1}}for(k in r)r.hasOwnProperty(k)&&(w[k]=r[k]);return w.enableHoverStyle=typeof w.enableHoverStyle=="boolean"?w.enableHoverStyle:s,w.visible=typeof w.visible=="boolean"?w.visible:!p,w.title=typeof w.title=="string"?w.title:v,w.text=typeof w.text=="string"?w.text:y,b=n.call(this,i,w)||this,b._userOptions=r,b.pushpinIconType=u,b._maneuverType=c,b.taskState=1,b.stopPointIndex=l,b.viaPointIndex=a,b.isHidden=p,b.routeMode=o,b.routeMapEntities=h,b.instructionViewModel=f,b}return ut(t,n),t.prototype.setLabel=function(n,t){if(n&&this.isRouteSelected){var i={title:n,text:t};this.setOptions(i)}},t.prototype.getManeuverType=function(){return this._maneuverType},t.prototype.changeZoom=function(n){this.currentZoomLevel=n},t.prototype.changeRouteSelectionState=function(n){this.isRouteSelected=n;this.setVisibility(n)},t.prototype.changeCardTaskState=function(){return},t.prototype.getTemplates=function(){return this.isHidden?null:this._templates},t.prototype.setVisibility=function(n){this._userOptions&&typeof this._userOptions.visible=="boolean"||n!==this._options.visible&&(this.isHidden=!n,this.setOptions({visible:n}))},t.prototype.getVisible=function(){return!this.isDisposed&&this._options?this._options.visible:!1},t.prototype.update=function(){return},t.prototype.isTapEnabled=function(){return this._options.enableClickedStyle},t.prototype.isHoverEnabled=function(){return this._options.enableHoverStyle},t.prototype.isMoveEnabled=function(){return this.routeMode===h.transit&&this._options.draggable?this.pushpinIconType===e.start||this.pushpinIconType===e.end||this.pushpinIconType===e.middle:this._options.draggable},t._defaultStartWaypointOptions={color:"#149d49"},t._defaultMiddleWaypointOptions={color:"#2167ff"},t._defaultEndWaypointOptions={color:"#ee4036"},t._defaultViapointOptions={text:"",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12"><circle cx="6" cy="6" r="5" stroke="#36a8ff" stroke-width="1" fill="#edf7ff" /><\/svg>'},t}(b),ut=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),wt=function(n){function t(i,r,u,f,e,o,s,h,c){var l=n.call(this,i,r?r:t._defaultSelectedPolylineOptions)||this;return l._userOptions=r,l._mapType=f,l._taskState=1,l.subLegIndex=o,l.legIndex=e,l._routeMode=s,l._numberOfViaPoints=h,l._maneuverType=c,l.isHidden=r&&typeof r.visible=="boolean"?r.visible:!1,l}return ut(t,n),t.prototype.getIndex=function(){return this._index},t.prototype.update=function(){return},t.prototype.getVisible=function(){return this._options.visible},t.prototype.isMoveEnabled=function(){return this._isAddingViaAllowed()},t.prototype.changeZoom=function(n){this._currentZoomLevel=n},t.prototype.isRouteSelected=function(){return this._isRouteSelected},t.prototype.setVisibility=function(n){this._userOptions&&typeof this._userOptions.visible=="boolean"||n!==this._options.visible&&(this.isHidden=!n,this.setOptions({visible:n}))},t.prototype.changeRouteSelectionState=function(n){this._isRouteSelected=n;this.setVisibility(n)},t.prototype.changeCardTaskState=function(n){this._taskState=n},t.prototype.changeMapType=function(n){this._mapType=n},t.prototype.GetPrimitives=function(){var n=[];return n.push(this),n},t.prototype._isAddingViaAllowed=function(){return this._routeMode!==h.transit&&this._numberOfViaPoints<w.maxViaPoints},t._defaultSelectedPolylineOptions={generalizable:!0,strokeColor:"#36a8ff",strokeThickness:3,secondaryStrokeColor:"#2656e2",secondaryStrokeThickness:5},t}(k),bt=function(){function n(n,t){this._primitivesCache=[];n&&(this._SDKMap=n,this._map=n.getV8Map(),this._searchManager=new vt(n));w.isSDK=!0;this._sdkWaypoints=t||[];this._directionsState={};this._directionsState.options={};this._requestOptions={};this._renderOptions={};this.disposables=[];this.directionsError=new a;this.directionsUpdated=new a;this._directionsTaskLoadCompleteEvent=new a}return n.prototype.calculateDirections=function(){var n=this;if(this.clearDisplay(),this._calculatingDirections=!0,this._sdkWaypoints.length<2){this.directionsError.invoke({responseCode:15,message:"At least two waypoints required to calculate a route."});return}if(this._sdkWaypoints[this._sdkWaypoints.length-1].isViapoint()){this.directionsError.invoke({responseCode:16,message:"The last waypoint cannot be a viapoint!"});return}this._activateDirectionsTask(function(){n._updateDirectionsStates(!0);n._directionsTask.activate(n._map,n._directionsState)})},n.prototype.showInputPanel=function(t){var i=this;t||this._inputContainer&&this._inputContainer.clear();this._activateDirectionsTask(function(){i._updateDirectionsStates();i._directionsTask.activate(i._map,i._directionsState);i._inputPanelVM=i._directionsTask.getPanelViewModel();i.disposables.push(i._inputPanelVM.resolveWaypointSDKEvent.add(function(n){var r=n.requestState.query,t=new y({address:r});i._resolveWaypoints([t],function(){var r={requestorState:n.requestorState,requestState:n.requestState},u={processorType:"",inData:r,outData:[{data:t.getLocation()}]};i._inputPanelVM.waypointResolved(u)},function(n){i.directionsError.invoke(n)})}));i._suggestionRequestHandler||(i._suggestionRequestHandler=new a,i.disposables.push(i._suggestionRequestHandler.add(function(n){i._updateSuggestionRequestWithOptions(n)})));i._inputPanelVM.setWaypointSuggestionRequestedHandler(i._suggestionRequestHandler);i._inputContainer=l(document.getElementById(t));i._inputContainer.clear();i._inputPanelVM.setScrollContainer(i._inputContainer[0]);var r=document.createElement("div");r.className=n._directionsSDKClass;r.appendChild(i._inputPanelVM.getControl()[0]);i._inputContainer.append(r)})},n.prototype._activateDirectionsTask=function(t){var i=this;this._directionsTask||this._loadingDirectionsTask?this._loadingDirectionsTask?this.disposables.push(this._directionsTaskLoadCompleteEvent.addOne(function(){t()})):t():(this._loadingDirectionsTask=!0,this._map.getContainer().instanceAsync("DirectionsTask",function(r){i._loadingDirectionsTask=!1;i._directionsTask=r;i._directionsTask.templateSelector=new rt(i._map);i._layer=new lt("DirectionsLayer_"+n._layerId++,i._directionsTask.templateSelector);i._directionsTask.setMapLayer(i._layer);i._SDKMap.layers.insert(i._layer);i.disposables.push(r.directionsManagerCallback.add(function(n){i._calculatingDirections=!1;i._routeResult=null;n&&n.responseCode!==1&&n.message!==null?i.directionsError.invoke(n):(i._resultsContainer&&(i._resultsContainer.clear(),i._resultsContainer.append(r.getResultsPanel()[0]),l(".svg",i._resultsContainer[0]).inlineDataSvgs().remove_class("svg")),i._routeResult=i._calculateRouteResult(),i._directionsState=r.serialize(),i._directionsTask.getPrimitives(null,function(n){n&&n.primitives&&n.primitives.length>0&&(i._primitivesCache=n.primitives);i.directionsUpdated.invoke(i._routeResult)}))}));t();i._directionsTaskLoadCompleteEvent.invoke()}))},n.prototype.addWaypoint=function(n,t){t===undefined?this._sdkWaypoints.push(n):this._sdkWaypoints.splice(t,0,n);this._updateInputViewAndStates()},n.prototype.removeWaypoint=function(n){var t,r,u,f,i;if(typeof n=="object"){for(t=0,r=this._sdkWaypoints.length;t<r;t++)if(u=n,f=this._sdkWaypoints[t],d.areEqual(u.getWaypoint(),f.getWaypoint())){this.removeWaypoint(t);break}}else if(typeof n=="number"){if(i=n,i<0||i>=this._sdkWaypoints.length)throw"Index should be between 0 and total number of waypoints";this._sdkWaypoints.splice(i,1)}this._updateInputViewAndStates()},n.prototype.getAllPushpins=function(){var i=[],t,f,e,u,o,s;if(this._primitivesCache&&this._primitivesCache.length>0)for(t=0;t<this._primitivesCache.length;t++)if(this._primitivesCache[t]instanceof ft&&this._primitivesCache[t].getVisible()){for(f=!1,e=this._primitivesCache[t],u=0;u<i.length;u++)if(o=e.getLocation(),s=i[u].getLocation(),r.areEqual(o,s)){f=!0;break}f||i.push(e)}return i.sort(n._compareDirectionsSDKPushpinByLegs),i},n._compareDirectionsSDKPushpinByLegs=function(n,t){var i=n.stopPointIndex-t.stopPointIndex;return i===0&&(i=n.viaPointIndex-t.viaPointIndex),i},n.prototype.getAllWaypoints=function(){var n=this;return this._directionsState.waypoints&&this._directionsState.waypoints.length&&(this._sdkWaypoints=[],this._directionsState.waypoints.forEach(function(t){n._sdkWaypoints.push(y.createSDKWaypoint(t));t.viaWaypoints&&t.viaWaypoints.forEach(function(t){n._sdkWaypoints.push(y.createSDKWaypoint(t))})})),this._sdkWaypoints},n.prototype.getRequestOptions=function(){if(this._requestOptions.routeMode=this._directionsState.mode,this._requestOptions.distanceUnit=this._directionsState.options.unit,this._requestOptions.maxRoutes=this._directionsState.options.maxRoutes,this._directionsState.options&&(this._requestOptions.routeAvoidance=[],this._directionsState.options.avoidHighways&&this._requestOptions.routeAvoidance.push(u.avoidHighways),this._directionsState.options.minimizeHighways&&this._requestOptions.routeAvoidance.push(u.minimizeHighways),this._directionsState.options.avoidTollRoads&&this._requestOptions.routeAvoidance.push(u.avoidToll),this._directionsState.options.minimizeTolls&&this._requestOptions.routeAvoidance.push(u.minimizeToll)),this._requestOptions.routeDraggable=this._directionsState.options.routeDraggable,this._requestOptions.routeIndex=this._directionsState.routeIndex,this._directionsState.options.optimize)switch(this._directionsState.options.optimize){case v.distance:this._requestOptions.routeOptimization=o.shortestDistance;break;case v.time:this._requestOptions.routeOptimization=o.shortestTime}return this._requestOptions.distanceBeforeFirstTurn=this._directionsState.options.distanceBeforeFirstTurn,this._requestOptions.heading=this._directionsState.options.heading,this._requestOptions.vehicleSpec=this._directionsState.options.vehicleSpec,this._directionsState.options.dateTime&&(this._requestOptions.time=new Date(this._directionsState.options.dateTime)),this._requestOptions.timeType=this._directionsState.options.timeType,this._requestOptions},n.prototype.setRequestOptions=function(n){this._requestOptions=n;var t=this._directionsState.options;if(n.routeMode&&(this._directionsState.mode=n&&n.routeMode||h.driving),n.distanceUnit&&(t.unit=n.distanceUnit),n.maxRoutes&&(t.maxRoutes=n.maxRoutes),n.routeAvoidance&&(n.routeAvoidance.indexOf(u.avoidHighways)>=0&&(t.avoidHighways=!0),n.routeAvoidance.indexOf(u.minimizeHighways)>=0&&(t.minimizeHighways=!0),n.routeAvoidance.indexOf(u.avoidToll)>=0&&(t.avoidTollRoads=!0),n.routeAvoidance.indexOf(u.minimizeToll)>=0&&(t.minimizeTolls=!0)),n.routeMode===h.truck?t.routeDraggable=!1:n.routeDraggable!==undefined&&(t.routeDraggable=n.routeDraggable),n.routeIndex!==undefined&&(this._directionsState.routeIndex=n.routeIndex),n.routeOptimization!==undefined)switch(n.routeOptimization){case o.shortestDistance:t.optimize=v.distance;break;case o.shortestTime:t.optimize=v.time}n.distanceBeforeFirstTurn!==undefined&&(t.distanceBeforeFirstTurn=n.distanceBeforeFirstTurn);n.heading!==undefined&&(t.heading=n.heading);n.time!==undefined&&(t.dateTime=n.time.getTime());n.timeType!==undefined&&(t.timeType=n.timeType);n.vehicleSpec!==undefined&&(t.vehicleSpec=n.vehicleSpec);this._updateInputViewAndStates()},n.prototype.getRenderOptions=function(){return this._renderOptions},n.prototype.setRenderOptions=function(t){var r,i;this._renderOptions=t;t.itineraryContainer&&(r=l(this._renderOptions.itineraryContainer),r.clear(),i=document.createElement("div"),i.className=n._directionsSDKClass,r.append(i),this._resultsContainer=l(i));this._directionsState.renderOptions=t},n.prototype.getRouteResult=function(){if(this._calculatingDirections){var n=new c;n.message="DirectionsManager is computing the directions.";this.directionsError.invoke(n)}else return this._routeResult.route},n.prototype.getCurrentRoute=function(){var n,t;if(this._calculatingDirections)n=new c,n.message="DirectionsManager is computing the directions.",this.directionsError.invoke(n);else return t=this._directionsState.routeIndex||0,this._routeResult.route[t]},n.prototype.clearDisplay=function(){this._resultsContainer&&this._resultsContainer.clear();this._directionsTask&&this._directionsTask.clearExistingRoutes()},n.prototype.clearAll=function(){this.clearDisplay();this._layer&&(this._SDKMap.layers.remove(this._layer),this._layer.dispose(!0),this._layer=null);this._directionsTask&&(this._directionsTask.deactivate(),this._directionsTask.dispose(),this._directionsTask=null);this._requestOptions={};this._renderOptions={};this._directionsState={};this._directionsState.options={};this._sdkWaypoints=[];this._inputPanelVM=null;this._routeResult=null;this.directionsUpdated.lastInvokedArgs=null;f._clearDisposables(this._primitivesCache);f._clearDisposables(this.disposables)},n.prototype.dispose=function(){this.clearAll();f._disposeEvents(this);f._nullifyClass(this)},n.prototype._resolveWaypoints=function(n,t,i){var o=n.filter(function(n){return!n.getLocation()}),s=o.length,f,h,u,e,r;if(s===0){t();return}for(f=0,h=o.length;f<h;f++)u=o[f],u.getLocation()||u.getAddress()?(r=new ct,r.bounds=this._map.getBounds(),r.where=u.getAddress(),r.userData=u,r.callback=function(n,i){var r=i;r.setOptions({location:n.results[0].location});s--;s===0&&t()},r.errorCallback=function(){var n=new c;n.responseCode=17;n.message="The waypoint you entered cannot be found.";i(n)},this._searchManager.geocode(r)):(e=new c,e.responseCode=13,e.message="The waypoint you entered does not have either address or location.",i(e))},n.prototype._calculateRouteResult=function(){var t,r,i,o,u;if(this._directionsTask){var f=[],e=[],n=this._directionsTask.getDirectionsResponse();if(n&&n.resourceSets&&n.resourceSets.length>0&&(t=n&&n.resourceSets[0],t&&t.resources&&t.resources.length))for(r=t.resources,i=0,o=r.length;i<o;i++)u=r[i],f.push(new g(u,i)),e.push(new p(u));return{routeSummary:e,route:f}}},n.prototype._updateSuggestionRequestWithOptions=function(n){n.applicationName="MapsSdkV8";n.applicationId=ot.sdkAutosuggestAppid;n.suggestionTypes="place,address"},n.prototype._updateInputViewAndStates=function(){this._updateStateWaypoints();this._inputPanelVM&&this._inputPanelVM.updateInputControlsFromState(this._directionsState)},n.prototype._updateDirectionsStates=function(n){this._updateStateWaypoints();this._directionsState.renderOptions=this.getRenderOptions();this._directionsState.renderOptions.useExistingInputPanel=!0;this._directionsState.resolveWaypointsInRoutingService=n},n.prototype._updateStateWaypoints=function(){var t,u;this._directionsState.waypoints=[];for(var n=0,i=0,r=this._sdkWaypoints.length;n<r;n++)t=this._sdkWaypoints[n].getWaypoint(),t.isViaWaypoint&&n!==0&&n!==r-1?(u=this._directionsState.waypoints[i-1],u.viaWaypoints.push(t)):t.isViaWaypoint?n===0&&this.directionsError.invoke({responseCode:16,message:"The first waypoint cannot be a viapoint!"}):(this._directionsState.waypoints.push(t),i++)},n._directionsSDKClass="MicrosoftMap dirSDK",n._layerId=1,n}();n.DirectionsManager=bt;n.Waypoint=y;n.DirectionsEventArgs=pt;n.DirectionsErrorEventArgs=c;n.DistanceUnit=ht;n.Route=g;n.RouteLeg=nt;n.RouteSummary=p;n.DirectionsStep=tt;n.RouteSubLeg=it;n.RouteMode=h;n.RouteOptimization=o;n.TimeTypes=yt;n.DirectionsSDKTemplateSelector=rt;n.DirectionsSDKPushpin=ft;n.DirectionsSDKPolyline=wt}catch(et){if(t.logger)t.logger.logCriticalError(et);else throw et;}}).call(window)